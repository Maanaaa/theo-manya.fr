let experiencesContainerTM;let orderSelectedTM;function setupListeners(){orderSelectedTM=document.getElementById("order");experiencesContainerTM=document.querySelector('#experiences .left ul');if(orderSelectedTM){orderSelectedTM.addEventListener('change',ordonner)}}
function ordonner(){let selectedOptionTM=orderSelectedTM.options[orderSelectedTM.selectedIndex];let contentTM=selectedOptionTM.value;if(contentTM=="croissant"){console.log("Croissant");trier("croi")}else{console.log("Décroissant");trier("dec")}}
function getEndYear(listeTM){const dateElemTM=listeTM.querySelector('.date');if(!dateElemTM){console.warn("Aucun élément de date trouvé, utilisation de l'année actuelle par défaut.");return new Date().getFullYear()}
let textTM=dateElemTM.textContent;if(!textTM)textTM="";textTM=textTM.replace(/[()@]/g,'').trim();let partsTM=textTM.split(' - ');if(partsTM.length===1){partsTM=textTM.split(' à ')}
let debutTM="";let finTM="";if(partsTM.length>0){debutTM=partsTM[0].trim()}
if(partsTM.length>1){finTM=partsTM[1].trim()}
if(finTM==="aujourd'hui"){finTM=new Date().getFullYear().toString()}
return parseInt(finTM)}
function trier(orderTM){const experiencesTM=Array.from(experiencesContainerTM.querySelectorAll('li'));let tableauTM=[];let tableauTrieTM=[];for(let iTM=0;iTM<experiencesTM.length;iTM++){let finTM=getEndYear(experiencesTM[iTM]);tableauTM.push({annee:finTM,experience:experiencesTM[iTM]})}
while(tableauTM.length>0){let iChoisiTM=0;for(let iTM=1;iTM<tableauTM.length;iTM++){if(orderTM==="croi"&&tableauTM[iTM].annee<tableauTM[iChoisiTM].annee){iChoisiTM=iTM}
if(orderTM==="dec"&&tableauTM[iTM].annee>tableauTM[iChoisiTM].annee){iChoisiTM=iTM}}
tableauTrieTM.push(tableauTM[iChoisiTM]);tableauTM.splice(iChoisiTM,1)}
experiencesContainerTM.innerHTML="";for(let iTM=0;iTM<tableauTrieTM.length;iTM++){experiencesContainerTM.appendChild(tableauTrieTM[iTM].experience)}}
window.addEventListener('load',setupListeners)