let currentIndexTM=0;let isAutoModeTM=!0;let intervalTM;let delayChangeTM=3500;let carouselTM;let cardsTM;let cardNumberBulletTM;function updateCarousel(){carouselTM.style.transform=`translateX(-${currentIndexTM * 100}%)`;updateBullet()}
function updateBullet(){for(let iTM=0;iTM<cardNumberBulletTM.length;iTM++){if(iTM===currentIndexTM){cardNumberBulletTM[iTM].style.backgroundColor='rgb(255, 46, 136)';cardNumberBulletTM[iTM].classList.add('active');cardNumberBulletTM[iTM].setAttribute('aria-selected','true')}else{cardNumberBulletTM[iTM].style.backgroundColor='#ccc';cardNumberBulletTM[iTM].classList.remove('active');cardNumberBulletTM[iTM].setAttribute('aria-selected','false')}}}
function nextCard(){currentIndexTM=(currentIndexTM+1)%cardsTM.length;updateCarousel()}
function startAutoMode(){stopAutoMode();intervalTM=setInterval(nextCard,delayChangeTM)}
function stopAutoMode(){clearInterval(intervalTM)}
function setupListeners(){carouselTM=document.querySelector('.carousel');cardsTM=document.querySelectorAll('.carousel .card');cardNumberBulletTM=document.querySelectorAll('.cardNumber .bullet');let toggleButtonTM=document.getElementById('toggleMode');let prevButtonTM=document.getElementById('prevBtn');let nextButtonTM=document.getElementById('nextBtn');if(toggleButtonTM&&prevButtonTM&&nextButtonTM){toggleButtonTM.addEventListener('click',function(){isAutoModeTM=!isAutoModeTM;if(isAutoModeTM==!0){toggleButtonTM.textContent='Mode Manuel';startAutoMode()}else{toggleButtonTM.textContent='Mode Auto';stopAutoMode()}});prevButtonTM.addEventListener('click',function(){currentIndexTM=(currentIndexTM-1+cardsTM.length)%cardsTM.length;updateCarousel();if(isAutoModeTM)startAutoMode();});nextButtonTM.addEventListener('click',function(){nextCard();if(isAutoModeTM)startAutoMode();})}
for(let iTM=0;iTM<cardNumberBulletTM.length;iTM++){cardNumberBulletTM[iTM].addEventListener('click',function(){currentIndexTM=iTM;updateCarousel();if(isAutoModeTM)startAutoMode();});cardNumberBulletTM[iTM].addEventListener('keydown',function(e){if(e.key==='Enter'||e.key===' '){e.preventDefault();cardNumberBulletTM[iTM].click()}
if(e.key==='ArrowLeft'){prevButtonTM?.click()}
if(e.key==='ArrowRight'){nextButtonTM?.click()}})}
cardsTM.forEach(function(cardTM){cardTM.addEventListener('mouseenter',function(){if(isAutoModeTM)stopAutoMode();});cardTM.addEventListener('mouseleave',function(){if(isAutoModeTM)startAutoMode();});startAutoMode();updateBullet()})}
window.addEventListener('load',setupListeners)