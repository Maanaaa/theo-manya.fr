function init(){let e=document.getElementById("projet-modal");if(!e)return;let t=e.querySelector(".popup-box"),n=document.getElementById("popup-img"),r=document.getElementById("popup-title"),o=document.getElementById("popup-date"),l=document.getElementById("popup-desc"),i=document.getElementById("popup-cta"),c=null;function d(){e.setAttribute("aria-hidden","true"),document.body.classList.remove("no-scroll"),document.removeEventListener("keydown",u),c&&"function"==typeof c.focus&&c.focus()}function u(e){"Escape"===e.key&&d(),"Tab"===e.key&&function e(n){let r=t.querySelectorAll('a[href],button:not([disabled]),textarea,input,select,[tabindex]:not([tabindex="-1"])');if(!r.length)return;let o=r[0],l=r[r.length-1];n.shiftKey&&document.activeElement===o?(l.focus(),n.preventDefault()):n.shiftKey||document.activeElement!==l||(o.focus(),n.preventDefault())}(e)}e.addEventListener("click",e=>{e.target.closest('[data-close="popup"]')&&d()}),document.querySelectorAll("#projets .card").forEach(t=>{t.style.cursor="pointer",t.addEventListener("click",d=>{if(d.target.closest(".more-info"))return;let s=t.querySelector(".bottom p:first-child")?.innerText?.trim()||"",a=t.querySelector(".bottom p:last-child")?.innerText?.trim()||"",p=t.querySelector("img")?.src||"",f=t.querySelector(".description p")?.innerText?.trim()||"",y=t.querySelector(".more-info")?.getAttribute("href");r.textContent=s,o.textContent=a,n.src=p,n.alt=s?`Image du projet ${s}`:"Image du projet",l.textContent=f,y?(i.href=y,i.hidden=!1):i.hidden=!0;let m;c=document.activeElement,e.setAttribute("aria-hidden","false"),document.body.classList.add("no-scroll"),(m=e.querySelector(".popup-close"))&&m.focus(),document.addEventListener("keydown",u)})})}window.addEventListener("load",init);